{% if jekyll.environment == "production" %}
<script defer src="https://eu.umami.is/script.js" data-website-id="0ed0c854-0297-411f-b19c-4688ea996bdc"></script>
{% endif %}

{% if page.layout == "publication" %}
<!-- HEAD info for iPRES publication pages -->
<!-- Article metadata as per https://www.zotero.org/support/dev/exposing_metadata#using_an_open_standard_for_exposing_metadata -->
<meta name="citation_title" content="{{ page.title }}">
<meta name="citation_authors" content="{{ page.creators | join: '; ' }}">
<meta name="citation_year" content="{{ page.year }}">
{% if page.date %}
<meta name="citation_date" content="{{ page.date }}">
{% endif %}
<meta name="citation_conference_title" content="{{ page.parent }}">
<meta name="citation_inbook_title" content="{{ page.parent }} Conference Proceedings">
<meta name="citation_abstract" content="{{ page.abstract }}">
<meta name="citation_public_url" content="{{ page.landing_page_url }}">
<meta name="citation_pdf_url" content="{{ page.document_url }}">
<meta name="citation_keywords" content="{{ page.keywords | join: '; ' }}">
{% endif %}

{% if page.layout == "ipres" %}
<!-- HEAD info for iPRES Conference pages, as jekyll-seo-tags does not support alternative image fields -->
<!-- Twitter -->
{% if page.logo %}<meta name="twitter:image" content="{{ page.dir | append: page.logo | absolute_url }}" />{% endif %}
<!-- OpenGraph -->
{% if page.logo %}<meta property="og:image" content="{{ page.dir | append: page.logo | absolute_url }}" />{% endif %}
{% endif %}

<script defer>
    const urlParams = new URLSearchParams(window.location.search);
    const search_input = urlParams.get('search-input');
    console.log(`Setting search parameter to: ${search_input}`);
    if ( search_input ) {
        setTimeout( function() {
            const search_box = document.getElementById("search-input");
            search_box.value = search_input;
            /* What the search does internally to show itself: */
            document.documentElement.classList.add('search-active');
            search_box.focus();
        }, 500 ); 
    }
</script>